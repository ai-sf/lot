---
# Front matter necessario per Jekyll
---
@charset "utf-8";

// ==========================================================================
// 1. VARIABILI
// ==========================================================================

// Variabili di Spaziatura (dovrei aver risolto il problema di $spacing-unit)
$spacing-unit:     30px;
$content-width:    800px;
$on-palm:          600px;
$on-laptop:        1150px;

// Variabili Colore Base (anche qua per $grey-color)
$grey-color:       #828282;
$grey-color-light: lighten($grey-color, 40%);
$grey-color-dark:  darken($grey-color, 25%);
$text-color:       #111111;
$background-color: #fdfdfd; 
$brand-color:      #2a7ae2;

// Variabili Font
$base-font-family: Helvetica, Arial, sans-serif;
$base-font-size:   16px;
$base-line-height: 1.5;
$small-font-size:  $base-font-size * 0.875;

// Colori dinamici
$color-type1: {{ site.data.generic.color1 | default: "#85700b" }};
$color-type2: {{ site.data.generic.color2 | default: "#EAA84E" }};

// ==========================================================================
// 2. MIXIN
// ==========================================================================
@mixin media-query($device) {
    @media screen and (max-width: $device) {
        @content;
    }
}

// ==========================================================================
// 3. IMPORT DEI FILE SCSS
// ==========================================================================
@import
        "base",
        "layout",
        "syntax-highlighting",
        "materialize",
        "custom"
;

@import url('https://fonts.cdnfonts.com/css/palatino');


// ==========================================================================
// 4. SISTEMA DARK MODE
// ==========================================================================

:root {
  --bg-total: #ffffff;
  --bg-block: #ffffff;
  --text-total: #111111;
  --card-title-color: #89b8f8;
  --nav-color: #{$color-type1};;
}

[data-theme="dark"] {
  --bg-total: #000000;
  --bg-block: #252525; 
  --text-total: #f5f5f5;
  --post-title-color: #{$color-type1};
  --card-title-color: #{$color-type1};
  --nav-color: #{$color-type1};
  
  #footer_img_light { display: none !important; }
  #footer_img_dark { display: block !important; }
}
// ==========================================================================
// 5. NAVBAR FIXED & SI SPINGE IL BODY (BACINO) SOTTO
// ==========================================================================

// 1. Spingiamo giù il contenuto del sito per non farlo finire sotto la navbar
body {
  transition: background-color 0.4s ease;
  padding-top: 64px !important; // Altezza navbar desktop
  background-color: var(--bg-total) !important;
  color: var(--text-total) !important;
}

.custom1 {
  background-color: var(--nav-color) !important;
  color: #ffffff !important; // Testo bianco su sfondo scuro
}

// 2. Blocchiamo la navbar in alto
nav.custom-nav {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  z-index: 900 !important; 
  height: 64px !important;
  background-color: var(--nav-color) !important;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3) !important;
  border: none !important;
  
  a, i, .brand-logo { color: #ffffff !important; }
}

#footer_img_dark { display: none !important; }
#footer_img_light { display: block !important; }

// ==========================================================================
// 6. FIX LAYOUT & VISIVI
// ==========================================================================

// Tempo di flexare la Navbar! (Per allineare Logo e Link)
.nav-wrapper {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  height: 100% !important;
  
  // Rimuove blocchi bianchi
  .container, .row { 
    background-color: transparent !important; 
    box-shadow: none !important; 
    width: 100% !important;
  }
}

// Logo
// Logo Desktop
#logo-container.brand-logo {
  position: static !important;
  display: flex !important;
  align-items: center !important;
  height: 100% !important;
  white-space: nowrap !important;
  
  // QUESTE SONO LE RIGHE MAGICHE PER STACCARLO DAL BORDO:
  padding-left: 25px !important;  // Dà aria a sinistra
  margin-right: 30px !important;
}

// Link Destra
nav ul.right {
  display: flex !important;
  align-items: center !important;
  height: 100% !important;
  
  li {
    height: 100% !important;
    display: flex !important;
    align-items: center !important;
  }
  
  li a { 
    display: flex !important;
    align-items: center !important;
    height: 100% !important;
    padding: 0 12px !important; 
  }
}

// Fix Mezzaluna (Switch)
nav ul.right li.valign-wrapper {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

// Card e Blocchi
.card, .card-panel, .collapsible-header, .collection-item {
  background-color: var(--bg-block) !important;
  color: var(--text-total) !important;
  border: none !important;
}
.card .card-title {
  color: var(--card-title-color) !important;
}
.post-title {
  color: var(--post-title-color) !important;
}
.card-title {
  color: var(--card-title-color) !important;
}
.card-action a{
  color: var(--card-title-color) !important;
}
// Footer
.footer-skyline-container {
  line-height: 0;
  background: transparent !important;
  img { width: 100%; height: auto; display: block; }
}

.custom-footer-LOT {
  background-color: #{$color-type1} !important;
  .container, .row, .col { background: transparent !important; border: none !important; }
  h5, p, a { color: #ffffff !important; }
}

.collection-item a.custom1{
  background-color:  lighten($color-type1, 0%) !important;
}
nav .button-collapse {
    display: none !important;
}
// ==========================================================================
// 7. RESPONSIVE & MOBILE FIXES (Centratura Menu + Padding Switch)
// ==========================================================================

// 1. REGOLA GLOBALE: Hamburger spento su Desktop
nav .button-collapse {
    display: none !important;
}

// 2. REGOLE MOBILE (< 992px)
@media only screen and (max-width: 992px) {

    // --- NAVBAR SETUP ---
    nav ul.right, 
    nav ul.right.hide-on-med-and-down { 
        display: none !important; 
    }

    // Navbar Container Flexbox
    nav .nav-wrapper {
        display: flex !important;
        justify-content: center !important; 
        align-items: center !important;    
        text-align: center !important;
        position: relative !important;      
    }

    // Hamburger Menu
    nav .button-collapse { 
        display: block !important; 
        position: absolute !important; 
        left: 10px !important;
        top: 0 !important;
        height: 56px !important;
        line-height: 56px !important;
        z-index: 10 !important; 
        float: none !important;
        
        i { 
            color: #ffffff !important; 
            height: 56px !important;
            line-height: 56px !important;
        }
    }

    // Logo Navbar
    #logo-container.brand-logo {
        position: static !important; 
        transform: none !important; 
        left: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        height: 56px !important;       
        line-height: 56px !important;
        white-space: nowrap;           
        color: #ffffff !important; 
        pointer-events: auto; 
    }

    // Altezza Navbar Mobile
    body { padding-top: 56px !important; }
    nav.custom-nav { height: 56px !important; min-height: 56px !important; }


    // --- SIDE-NAV (Menu Laterale) ---
    
    .side-nav {
        position: fixed !important;
        z-index: 9999 !important;
        height: 100% !important;
        top: 0 !important;
        left: 0 !important; 
        padding-bottom: 60px !important; // Spazio extra in fondo per lo scroll
        box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12) !important;
    }
    
    #sidenav-overlay { z-index: 9998 !important; }

    // --- 1. CENTRATURA TESTI MENU ---
    // Centra tutti i link e gli header (tranne lo switch che è gestito dopo)
    .side-nav li a, 
    .side-nav .collapsible-header {
        text-align: center !important;
        justify-content: center !important; // Per elementi flex
    }
    
    //  aggiustiamo il margine delle icone se ci sono (i can fix her)
    .side-nav li a i,
    .side-nav .collapsible-header i {
        float: none !important; // Rimuove il float per permettere la centratura
        margin: 0 10px 0 0 !important;
        vertical-align: middle;
        display: inline-block !important;
    }


    // --- 2. STILE SWITCH DARK MODE (Padding Aumentato) ---
    // Targettiamo (manco fosse il Venezuela) il div .switch dentro la side-nav
    // --- 2. STILE SWITCH DARK MODE (Padding Aumentato e Font più grande) ---
    .side-nav .switch {
        padding-top: 25px !important;
        padding-bottom: 25px !important;
        padding-left: 32px !important; 
        padding-right: 0 !important;
        margin-top: 0 !important;
        text-align: left !important;
        width: 100% !important;
        box-sizing: border-box !important;
    }
    
    .side-nav .switch label {
        justify-content: flex-start !important;
        display: flex !important;
        align-items: center !important;
        color: #000000 !important;
        // AGGIUNTO: Ingrandisce il testo "Dark Mode" e le icone dentro la label
        font-size: 1rem !important;      // Corrisponde alla grandezza dei link standard
        font-weight: 500 !important;     // Lo rende leggermente più spesso (come i link)
    }
    // --- COLORI MENU LATERALE ---

    // Light Mode
    :root:not([data-theme="dark"]) .side-nav { background-color: #ffffff !important; }
    :root:not([data-theme="dark"]) .side-nav li a { color: #333333 !important; }
    :root:not([data-theme="dark"]) .side-nav i.material-icons,
    :root:not([data-theme="dark"]) .side-nav li a i { color: #555555 !important; }

    // Dark Mode
    [data-theme="dark"] .side-nav {
        background-color: #1a1a1a !important; 
        border-right: 1px solid #333;
    }
    [data-theme="dark"] .side-nav li a { color: #ffffff !important; }
    [data-theme="dark"] .side-nav i.material-icons,
    [data-theme="dark"] .side-nav li a i { color: #e0e0e0 !important; }
    
    [data-theme="dark"] .side-nav .collapsible-header { color: #ffffff !important; background: transparent !important; }
    [data-theme="dark"] .side-nav .logo a { color: #ffffff !important; }
    [data-theme="dark"] .side-nav .switch label { color: #ffffff !important; }
}
// ==========================================================================
// 8. RESPONSIVE & MOBILE FIXES (Dark Mode SideNav con HAMBURGERRRRR GNAM MENU CHE NON SPARIVA RISOLTO NERGHI)
// ==========================================================================

@media only screen and (max-width: 1150px) {

    // --- 1. NAVBAR GENERALE (Logo & Hamburger) ---

    // Censura del menu desktop perché sono un dittatore qua
    nav ul.right, 
    nav ul.right.hide-on-med-and-down { 
        display: none !important; // censurato 
    }

    // Hamburger Menu (Posizionato a sinistra :( )
    nav .button-collapse { 
        display: block !important; 
        position: absolute !important; 
        left: 20px !important;
        top: 0 !important;
        z-index: 10002;
        float: none !important;
        
        // Sempre bianco (AVANTI BIANCO!) sulla barra colorata
        i { color: #ffffff !important; }
    }
    
    // Logo Navbar (Centrato e Bianco)
    nav .nav-wrapper { text-align: center !important; }

    #logo-container.brand-logo {
        position: absolute !important; 
        left: 50% !important;          
        transform: translateX(-50%) !important; 
        padding-left: 0 !important;   
        margin: 0 !important;
        width: auto !important;
        white-space: nowrap;           
        top: 0 !important;             
        height: 56px !important;       
        line-height: 56px !important;
        color: #ffffff !important; 
    }

    // Altezza Navbar Mobile
    body { padding-top: 56px !important; }
    nav.custom-nav { height: 56px !important; min-height: 56px !important; }


    // --- 2. GESTIONE SIDE-NAV (Menu Laterale) ---

    /* A. MODALITÀ CHIARA (Light Mode) */
    :root:not([data-theme="dark"]) .side-nav {
        background-color: #ffffff !important;
    }

    :root:not([data-theme="dark"]) .side-nav li a {
        color: #333333 !important;
    }
    
    :root:not([data-theme="dark"]) .side-nav i.material-icons,
    :root:not([data-theme="dark"]) .side-nav li a i {
        color: #555555 !important;
    }

    /* B. MODALITÀ SCURA (Dark Mode) */
    [data-theme="dark"] .side-nav {
        background-color: #1a1a1a !important; // Grigio molto scuro (quasi nero)
        border-right: 1px solid #333;      // bordo sottile per staccare
    }

    // Link e Testi diventano bianchi
    [data-theme="dark"] .side-nav li a {
        color: #ffffff !important;
    }
    
    // Icone diventano bianche o grigio chiaro
    [data-theme="dark"] .side-nav i.material-icons,
    [data-theme="dark"] .side-nav li a i {
        color: #e0e0e0 !important;
    }

    // Header dei menu a tendina (es. sottomenu)
    [data-theme="dark"] .side-nav .collapsible-header {
        color: #ffffff !important;
        background-color: transparent !important;
    }
    
    // Logo dentro la SideNav
    [data-theme="dark"] .side-nav .logo a {
        color: #ffffff !important;
    }

    // Switch Dark Mode dentro la SideNav
    [data-theme="dark"] .side-nav .switch label {
        color: #ffffff !important;
    }
    
    // Opzionale: Sfondo leggermente diverso per l'elemento attivo
    [data-theme="dark"] .side-nav li.active {
        background-color: rgba(255, 255, 255, 0.05) !important;
    }
}
// ==========================================================================
// 9. ANIMAZIONE ONDA FOOTER (Dark Mode Switch)
// ==========================================================================

.footer-wave {
  width: 100%;
  height: 0;
  padding-top: 30%; /* Mantiene le proporzioni che avevo*/
  background-size: contain;
  background-repeat: repeat-x;
  background-position: bottom;
  
  // Immagine di Default (Light Mode)
  background-image: url('{{ site.url }}/img/wave.png');
  
  // Transizione fluida quando cambi modalità
  transition: background-image 0.5s ease-in-out;
}

// Override per Dark Mode
[data-theme="dark"] .footer-wave {
  // Qui metti l'immagine scura
  background-image: url('{{ site.url }}/img/wavescuro1.png') !important;
}
// ==========================================================================
// 10. CUSTOM TABLE STRIPES (Righe alternate tabella)
// ==========================================================================
// Questo codice serve per cambiare quali celle delle tabelle sono colorate quando si passa in modalità scura
// va fatto perché altrimenti non si vede il tasto download
/* 1. Modalità Chiara (Light Mode) */
table.striped > tbody > tr:nth-child(odd) {
  // grigino standard:
  // background-color: rgba(242, 242, 242, 0.7) !important;
  
  // colore "Gold" molto chiaro:
  background-color: lighten($color-type1, 40%) !important;
}

/* 2. Modalità Scura (Dark Mode) */
[data-theme="dark"] table.striped > tbody > tr:nth-child(even) {
  // Un grigio scuro leggermente più chiaro dello sfondo nero/grigio
  background-color: rgba(255, 255, 255, 0.15) !important;
  // background-color:  lighten($color-type1, 0%) !important;
}

[data-theme="dark"] table.striped > tbody > tr:nth-child(odd) {
  // Un grigio scuro leggermente più chiaro dello sfondo nero/grigio
  // background-color: rgba(255, 255, 255, 0.05) !important;
  background-color:  lighten($color-type1, 0%) !important;
}

/* Opzionale: Colore al passaggio del mouse (Hover) */
/* table.striped > tbody > tr:hover {
    background-color: rgba(0, 0, 0, 0.05) !important;
}

[data-theme="dark"] table.striped > tbody > tr:hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
}
*/

[data-theme="dark"] {
  
  // 1. Gestione degli elementi principali (.custom1 semplice)
  .collection .collection-item.custom1 {
     background-color:  lighten($color-type1, 0%) !important; // Mantiene il color Oro scuro
     color: #ffffff !important;
     border-bottom: 1px solid #333; // Separatore scuro
  }

  // 2. Gestione dei sotto-elementi (.custom1.lighten-5)
  // Qui c'è il trucco: dobbiamo sovrascrivere sia il background chiaro che il 'black-text'
  .collection .collection-item.custom1.lighten-5 {
     // Invece del giallino pallido, mettiamo un grigio scuro o un oro molto scuro
     background-color: #2c2c2c !important; 
     
     // Sovrascriviamo la classe 'black-text' che hai nell'HTML
     color: #dddddd !important; 
     
     border-bottom: 1px solid #333;
  }
  
  // 3. Rimuovi il bordo bianco della collection container
  .collection {
    border: 1px solid #333 !important;
  }
}
// ==========================================================================
// 12. HOVER MENU LATERALE (SIDE-NAV) - Fix Logo Hover & Smooth Transition
// ==========================================================================

// --- 0. TRANSIZIONE FLUIDA (Fade effect) ---
// Diciamo al browser di impiegare 0.3 secondi per cambiare colore in modo morbido
.side-nav li,
.side-nav li a,
.side-nav li i {
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out !important;
}

/* --- A. LIGHT MODE (Hover Dorato invece che Grigio) --- */
// Applica hover a tutti gli 'li' TRANNE quello con classe '.logo'
:root:not([data-theme="dark"]) .side-nav li:not(.logo):hover,
:root:not([data-theme="dark"]) .side-nav li.active {
    background-color: lighten($color-type1, 45%) !important; 
}

:root:not([data-theme="dark"]) .side-nav li:not(.logo):hover > a,
:root:not([data-theme="dark"]) .side-nav li.active > a {
    color: #333333 !important;
}

/* --- B. DARK MODE (Hover Scuro invece che Bianco) --- */
// Applica hover a tutti gli 'li' TRANNE quello con classe '.logo'
[data-theme="dark"] .side-nav li:not(.logo):hover,
[data-theme="dark"] .side-nav li.active {
    background-color: rgba(255, 255, 255, 0.15) !important; 
}

[data-theme="dark"] .side-nav li:not(.logo):hover > a,
[data-theme="dark"] .side-nav li.active > a {
    color: #ffffff !important;
}

// Fix specifico per le icone durante l'hover (escludendo il logo)
[data-theme="dark"] .side-nav li:not(.logo):hover i,
[data-theme="dark"] .side-nav li.active i {
    color: #ffffff !important;
}

// Assicuriamoci che il logo non abbia sfondi strani in nessun caso e non faccia transizioni
.side-nav li.logo,
.side-nav li.logo a {
    background-color: transparent !important;
    transition: none !important; 
}
.side-nav li.logo:hover {
    background-color: transparent !important;
}
// ==========================================================================
// 13. FIX IMMAGINI TEAM (Responsive e Proporzionate)
// ==========================================================================

.team-portrait {
    // si adatta alla card e allo schermo mobile
    width: 100% !important;        
    
    // L'altezza si mette automatica...
    height: auto !important;      
    
    // 3. ...ma la blocchiamo in una proporzione fissa! (questo pathos è solo per questa sezione del codice) 
    // 1 / 1 crea un quadrato perfetto (noi siamo pitagorici e amiamo i quadrati)
    aspect-ratio: 1 / 1 !important;     
    // Questo per centrare le facce deh
    object-fit: cover !important;  
    object-position: top center !important; 
}
